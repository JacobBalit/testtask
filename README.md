# TODO App API Tests

## Описание
Проект включает API тесты для проверки функциональности сервиса TODO, реализованного на Spring 3.4.0 и Kotlin 1.9.25. 
Основные сценарии тестирования охватывают запросы `GET`, `POST`, `PUT`, `DELETE` и взаимодействие через WebSocket.

## Структура проекта
- **`src/main/kotlin/com.example.testtask`**: Содержит бизнес логику сервиса, DTO файлы , конфиги для работы с RestTemplate, приписана логка работы запросов.
- **`src/test/kotlin/com.example.testtask`**: Тестовые классы и сценарии.
- **`resources`**: Конфигурационные файлы, включая `application.yaml` для настроек тестовой среды.

## Стек технологий
- **Язык:** Kotlin 1.9.25
- **Фреймворк:** Spring Boot 3.4.0
- **Java:** 17
- **Библиотеки для тестирования:**
  - JUnit 5
  - RestAssured
  - WebSocketClient

## Предварительные требования
Перед запуском проекта необходимо убедиться, что у вас установлены:
- **JDK 17**
- **Gradle (или Maven)**
- **Docker** (если требуется запуск тестов в контейнере)
- **Postman** (опционально, для ручного тестирования API)

## Установка
1. Клонируйте репозиторий:
   ```bash
   git clone <URL вашего репозитория>

2. Соберите проект:
./gradlew build
   cd <папка проекта>

3. Запустите приложение TODO, если оно не запущено:
docker build -t todo-app:latest .
docker run -p 8080:8080 todo-app:latest

4. Для запуска всех тестов:
./gradlew clean test

5. Результаты тестов будут доступны в папке build/reports/tests/test/index.html а также testtask/build/allure-results для формирования allure отчета

## Сценарии тестирования
**GET /todos**

- **Успешное получение непустого списка TODOs.**

- **Проверка работы параметров offset и limit.**

- **Поведение при некорректных параметрах.**

**POST /todos**

- **Создание TODO с валидными данными.**

- **Обработка некорректных данных и дубликатов.**

**PUT /todos/:id**

- **Обновление TODO по существующему и несуществующему id.**

- **Проверка частичного обновления.**

- **Проверка обработки некорректных заголовков авторизации.**

**DELETE /todos/:id**

- **Удаление TODO по существующему и несуществующему id.**

- **Проверка обработки некорректных заголовков авторизации.**

**/ws**

- **Подключение через WebSocket.**

- **Получение уведомлений о создании новых TODO.**

- **Обработка некорректных сообщений.**

## application.yaml
Файл конфигурации содержит настройки для базового URL и переменных окружения.

server:
  port: 8080
base:
  url: http://localhost:8080
